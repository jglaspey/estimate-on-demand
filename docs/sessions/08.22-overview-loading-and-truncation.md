# 08.22 - Overview Loading, Re-run Parity, Measurement Formatting, and Server Truncation

Date: 08.22.2025
Type: Bugfix & UX Polish
Focus: Consistent loading states, re-run behavior, measurement rounding, and carrier truncation

## Summary
- Matched re-run behavior to initial upload: skeleton loaders, disabled CTA, and live progress polling.
- Implemented measurement display rules: LF/SF round to 1 decimal and hide trailing .0; Squares fixed to one decimal.
- Restored carrier truncation, moving truncation to the server for deterministic output (carrierShort).
- Hardened skeleton components to avoid $0/empty flashes and to standardize number/currency formatting.

## Key Changes
- app/job/[jobId]/page.tsx
  - Added jobProgress polling during re-run via isReprocessing in effect deps.
  - On Re-run click, reset job display fields and progress to trigger skeletons.
  - Prefer carrierShort from API when mapping to JobData.
- components/OverviewPage.tsx
  - Added formatMeasure (1-decimal, hide .0) and formatOne (1-decimal fixed) and applied across measurements.
  - Button now shows processing state during re-run; displays progress.
  - Carrier line now truncates visually and uses short value when available.
- components/ui/skeleton-field.tsx
  - Numbers rounded to 2 decimals; currency to $X.XX.
  - Recognizes placeholder date and shows skeleton.
- app/api/jobs/[jobId]/route.ts
  - Exposes carrierShort (word-boundary truncation, single ellipsis) without modifying DB value.
- types/index.ts
  - Status union extended to include 'processing'.

## Verification
- Re-run shows skeletons immediately; Start Review disabled with spinner and progress percentage.
- Measurements render like 199.3 LF, 199 LF (no .0), 16.4 Squares.
- Carrier displays shortened with ellipsis, full name in tooltip.

Status: Complete
